#pragma once
#include <iostream>

using namespace std;

int dice_shape[19][4][4] = {
	//기다란
	{{1,1,1,1},
	{0,0,0,0},
	{0,0,0,0},
	{0,0,0,0}},
	{{1,0,0,0},
	{1,0,0,0},
	{1,0,0,0},
	{1,0,0,0}},

	//사각형.
	{{1,1,0,0},
	{1,1,0,0},
	{0,0,0,0},
	{0,0,0,0}},

	//l 자
	{{1,0,0,0},
	{1,0,0,0},
	{1,1,0,0},
	{0,0,0,0}},

	{{1,1,1,0},
	{1,0,0,0},
	{0,0,0,0},
	{0,0,0,0}},

	{{1,1,0,0},
	{0,1,0,0},
	{0,1,0,0},
	{0,0,0,0}},

	{{0,0,1,0},
	{1,1,1,0},
	{0,0,0,0},
	{0,0,0,0}},

	{{0,1,0,0},
	{0,1,0,0},
	{1,1,0,0},
	{0,0,0,0}},

	{{1,0,0,0},
	{1,1,1,0},
	{0,0,0,0},
	{0,0,0,0}},

	{{1,1,0,0},
	{1,0,0,0},
	{1,0,0,0},
	{0,0,0,0}},

	{{1,1,1,0},
	{0,0,1,0},
	{0,0,0,0},
	{0,0,0,0}},

	//ss
	{{1,0,0,0},
	{1,1,0,0},
	{0,1,0,0},
	{0,0,0,0}},

	{{0,1,1,0},
	{1,1,0,0},
	{0,0,0,0},
	{0,0,0,0}},

	{{0,1,0,0},
	{1,1,0,0},
	{1,0,0,0},
	{0,0,0,0}},

	{{1,1,0,0},
	{0,1,1,0},
	{0,0,0,0},
	{0,0,0,0}},

	//중지.
	{{1,1,1,0},
	{0,1,0,0},
	{0,0,0,0},
	{0,0,0,0}},

	{{1,0,0,0},
	{1,1,0,0},
	{1,0,0,0},
	{0,0,0,0}},

	{{0,1,0,0},
	{1,1,1,0},
	{0,0,0,0},
	{0,0,0,0}},

	{{0,1,0,0},
	{1,1,0,0},
	{0,1,0,0},
	{0,0,0,0}},
};

int arr[510][501];
int n, m;
int ans = 0;

void Input() {
	cin >> n >> m;

	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			cin >> arr[i][j];
		}
	}
}

int Calc(int x, int y, int idx) {
	int sum = 0;

	for (int i = 0; i < 4; i++) {
		for (int j = 0; j < 4; j++) {
			if (dice_shape[idx][i][j]) {
				sum += arr[i + x][j + y];
			}
		}
	}

	return sum;

}

int main() {
	Input();

	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {

			for (int k = 0; k < 19; k++) {
				int sum = Calc(i, j, k);
				ans = max(sum, ans);
			}

		}
	}

	cout << ans;
}